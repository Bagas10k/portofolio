<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Manage Experience - Admin Dashboard</title>
    <link rel="icon" type="image/svg+xml" href="../assets/logo.svg">
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../style.css">
    <link rel="stylesheet" href="css/admin.css">
</head>
<body>
    <div class="admin-container">
        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="logo">Bagas<span class="dot">.</span></div>
            <ul class="admin-menu">
                <li><a href="dashboard.html">Projects</a></li>
                <li><a href="skills.html">Skills</a></li>
                <li><a href="education.html">Education</a></li>
                <li><a href="experience.html" class="active">Experience</a></li>
                <li><a href="messages.html">Messages</a></li>
                <li><a href="gallery.html">Gallery</a></li>
                <li><a href="profile.html">Profile</a></li>
                <li><a href="change-password.html">Change Password</a></li>
                <li style="margin-top: auto;"><a href="../index.html">View Site</a></li>
                <li><a href="#" onclick="fetch('../api/logout.php').then(()=>{window.location.href='index.html'})">Logout</a></li>
            </ul>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <header class="top-bar">
                <h1>Organization Experience</h1>
            </header>

            <div class="content-wrapper">
                <!-- Add Experience Form -->
                <div class="card mb-4">
                    <h3>Add New Experience</h3>
                    <form id="addExperienceForm" class="admin-form">
                        <div class="form-group">
                            <label>Organization Name</label>
                            <input type="text" id="organization" required placeholder="e.g. BEM Faculty of Engineering">
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label>Position / Role</label>
                                <input type="text" id="position" required placeholder="e.g. Head of Public Relations">
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label>Year Start</label>
                                <input type="text" id="yearStart" required placeholder="e.g. 2022">
                            </div>
                            <div class="form-group">
                                <label>Year End</label>
                                <input type="text" id="yearEnd" placeholder="e.g. 2023 or Present">
                            </div>
                        </div>
                        <div class="form-group">
                            <label>Description (Optional)</label>
                            <textarea id="description" rows="3" placeholder="Brief description of your responsibilities or achievements..."></textarea>
                        </div>
                        <button type="submit" class="btn btn-primary">Add Experience</button>
                    </form>
                </div>

                <!-- Experience List -->
                <div class="card">
                    <h3>Experience History</h3>
                    <div class="table-responsive">
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>Year</th>
                                    <th>Organization</th>
                                    <th>Position</th>
                                    <th>Action</th>
                                </tr>
                            </thead>
                            <tbody id="experienceList">
                                <!-- Loaded via JS -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Edit Modal -->
    <div id="editModal" class="modal" style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.8); z-index:1000; align-items:center; justify-content:center;">
        <div class="modal-content" style="background:var(--bg-secondary, #1a1a2e); padding:30px; border-radius:12px; max-width:500px; width:90%; max-height:90vh; overflow-y:auto;">
            <h3 style="margin-bottom:20px;">Edit Experience</h3>
            <form id="editExperienceForm" class="admin-form">
                <input type="hidden" id="editId">
                <div class="form-group">
                    <label>Organization Name</label>
                    <input type="text" id="editOrganization" required>
                </div>
                <div class="form-group">
                    <label>Position / Role</label>
                    <input type="text" id="editPosition" required>
                </div>
                <div class="form-row" style="display:flex; gap:15px;">
                    <div class="form-group" style="flex:1;">
                        <label>Year Start</label>
                        <input type="text" id="editYearStart" required>
                    </div>
                    <div class="form-group" style="flex:1;">
                        <label>Year End</label>
                        <input type="text" id="editYearEnd">
                    </div>
                </div>
                <div class="form-group">
                    <label>Description (Optional)</label>
                    <textarea id="editDescription" rows="3"></textarea>
                </div>
                <div style="display:flex; gap:10px; margin-top:20px;">
                    <button type="submit" class="btn btn-primary">Save Changes</button>
                    <button type="button" class="btn btn-outline" onclick="closeEditModal()">Cancel</button>
                </div>
            </form>
        </div>
    </div>

    <script src="js/experience.js"></script>
</body>
</html>
